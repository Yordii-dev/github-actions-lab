name: Workflow - Practicing Github Actions
on: push
env:
  GREETING: ${{secrets.GREETING}}
jobs:
  job1:
    runs-on: ubuntu-latest
    env:
      GREETING: "Hola desde job"
    steps:
      - name: Step without action
        run: echo "commit"

      - name: Step with action
        uses: actions/checkout@v4

      - name: Step with default env var called SHA
        run: echo $GITHUB_SHAÃ§

      - name: Step with default env var called REF stored in REF var bash (type of shell)
        run: |
          REF=$GITHUB_REF 
          echo $REF

      - name: Step with secret
        run: echo ${{secrets.GREETING}}

      - name: Step with secret stored in workflow env and if not exists show error, by default there is not error by empty string
        run: |
          set -u
          echo $GREETING

      - name: Step with job env
        run: |
          set -u
          echo $GREETING

      - name: Step with REF context
        run: |
          set -u
          echo ${{github.ref}}

      - name: Step with REF context and tag validation
        if: github.ref == 'ref/heads/main'
        run: echo "${{github.ref}} in new tag v2.2"
